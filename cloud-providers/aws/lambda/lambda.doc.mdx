---
description: Component-driven AWS Lambdas
labels: ['app', 'aws', 'serverless', 'env', 'template', 'lambda']
---

The Lambda aspect provides a component-driven experience for composing, building and deploying [AWS Lambda functions](https://docs.aws.amazon.com/lambda/).

## Basic usage

To get a Lambda function running in your workspace, fork this Lambda component example:

```sh
bit fork learnbit.apps/aws/lambda/simple-lambda-lambda
```

Configure the new Lambda component on your [workspace.json](https://bit.dev/teambit/workspace/content/workspace-configuration/~compositions) by adding your component to the root level:

```json
"myorg.some-scope/aws/lambda/simple-lambda-lambda": {}
```

Also add the dependency in the same file:

```json
"teambit.cloud-providers/aws/lambda": {}
```

## Running locally

Run the Lambda using the app name set on `hello.world.lambda.ts`:

```
bit run hello-lambda-app
```

You should see a message in the console like the following:

```sh
hello-lambda-app app is running on http://localhost:3000
```

To test your lambda function, you can make a POST request to the URL where it is running.
To test an event, pass it to the body of the request:

```sh
curl --location --request POST 'http://localhost:3000' \
--header 'Content-Type: application/json' \
--data-raw '{
    "event":{
        "firstName": "Bit",
        "lastName": "Component"
    }
}'
```

Response

```json
{
  "data": {
    "statusCode": 200,
    "headers": { "Content-Type": "application/json" },
    "body": "{\"greetings\":\"Hello Bit Component!. It is the year 2022\"}"
  }
}
```

## Deploy the lambda function to AWS

AWS Lambda is set in an [app plugin](https://bit.dev/apps/app-plugin)file ending with the `lambda.*` suffix as [seen in this example](https://bit.dev/learnbit/apps/aws/lambda/simple-lambda/~code/simple-lambda.lambda.ts).
Make sure to configure `deployOptions` within your Lambda as following:
It is recommended to store your credentials in environment variables.

```ts
 deployOptions: {
    clientConfig: {
      /* the aws hosting region */
      region: 'us-east-1',
      /* your aws credentials */
      credentials: {
        secretAccessKey: process.env.AWS_SECRET_KEY,
        accessKeyId: w
      },
    },
```

Once done, your component would be deployed on your next tag:

```
bit tag aws/lambda/simple-lambda
```

Visit your AWS console and you will see the Lambda function deployed.

### Compose your own Lambda env

The Lambda aspect also provides an entire development environment crafted for development and deployment of Lambda functions.
To create a customized development environment for Lambda functions, fork and modify the following example component:

```
bit fork teambit.cloud-providers/aws/lambda
```
